/**🗓 ️2026년 1월 07일 수요일*/

- 버전정보
해당 강의제공자는 node v18.14.0 사용/ npm 9.3.1 / ts-node 5.0.2
나는 v20.19.0 사용 / npm 10.8.2 / ts-node 5.9.3

- TypeScript는 어떤 언어일까?
자바스크립트를 더 안전하게 사용할 수 있도록 "타입관련 기능"들을 추가한 언어
자바스크립트 확장판이라고 생각하면돼

let a:number = 1;
let b:number = '1'; (x)

node.js(자바스크립트 구동기[런타임])의 탄생으로인해 자바스크립트를 어디서든 구동가능하도록 변화했는데
이때문에 자바스크립트로 다양한 프로그램들을 만들기 시작했어
근데 자바스크립트의 유연한 문법때문에 버그발생을 일으켜서 안정성을 떨어뜨려버리는 단점이 된거야
그래서 자바스크립트를 안전하게 사용하기위해 타입스크립트가 탄생한거래

- JavaScript의 한계점
모든 프로그래밍 언어는 타입시스템을 가져
정적 타입 시스템과 동적 타입 시스템이 있는데
정적 타입은 코드 실행전에 변수의 타입을 고정하는거고 (C, Java)
동적 타입은 코드 실행후 유동적으로 변수의 타입을 결정하는거야 (Python, JavaScript)


단점)정적 타입은 모든 변수에 타입을 지정해줘야하기 때문에 코드의 길이가 길어지는 단점이 있어
단점)동적 타입은 추후에 예상치 못한 오류가 발생해 프로그램이 강제 종료될수도 있어 
	=> 자바스크립트 단점


- TypeScript는 어떻게 한계점을 극복했을까?
- TypeScrip가 다른언어 대비 갖는 차별점은 뭐가 있을까? 
타입스크립트는 정적 타입이기도하고, 동적타입이기도해 (점진적 타입 시스템)
의도치 않게 타입을 잘못 사용하게 되면 에디터에서 오류가 떠서 애초에 실행이 안되고 (정적 타입 특징)
변수에 일일이 지정하지 않아도, 초기값을 기준으로 알아서 타입을 추론해줘 (동적 타입 특징)



- JavaScript 컴파일 과정
요약] 자바스크립트 → AST → 바이트코드
프로그래밍 언어를 기계어(이진수, 바이트코드)로 바꾸는 과정을 컴파일이라고 해.
기계어로 바꿔야 컴퓨터가 알아먹거든 그래서 컴파일과정을 거치는거야
컴파일을 하는 친구를 컴파일러 라고해
작성한 코드를 바로 바이트코드로 변환하지 않고, AST(추상 문법 트리)라는 특별한 형태로 먼저 변환시켜
AST는 트리 형태의 자료 구조에 코드를 쪼개서 저장해놓은거야
이렇게 바뀐 AST를 마지막으로 컴파일러가 바이트 코드로 변환하고 컴파일이 종료돼.


- TypeScript 컴파일 과정
요약] 타입스크립트코드 → AST → 타입검사 → 자바스크립트 → AST → 바이트코드
다른언어와 같게 타입스크립트를 AST로 변환해
근데 그 담부터가 달라
AST를 바이트 코드로 변환하는게 아닌 
AST를 보고 코드상에 타입 오류가 없는지 검사하는 *타입검사* 작업을 수행해
타입검사 과정에서 실패하게 되면 컴파일이 중단돼.
타입검사 과정을 성공하게 되면 AST를 자바스크립트로 변환해
그리고 JavaScript 컴파일 과정을 똑같이 거치는거야.
타입과 관련된 코드들은 컴파일 결과 모두 사라져 그래서 실행 자체에는 영향을 미치지 않아

- 프로젝트 환경 설정
npm init 					# node.js 초기화 (package.json)
npm i @types/node			# node.js가 제공하는 내장 기능들에 대한 타입정보를 갖고 있는 패키지
npm i -D typescript         # TypeScript 컴파일러(tsc) 설치
npx tsc -v					# tsc 버전 확인 (npx는 local실행을 뜻함)
npm i -D tsx                # TypeScript 파일을 바로 실행하기 위한 러너(ts-node)
npx tsc src/index.ts   		# TypeScript 파일을 JavaScript로 컴파일
tsx src/index.ts  			# TypeScript 파일을 Node.js에서 바로 실행


/**🗓 2026년 1월 08일 목요일*/
-  TypeScript 컴파일 옵션
타입스크립트에서 AST 변환 후 타입검사를 실행한다음에, 
타입검사에 오류가 없으면 자바스크립트 코드로 변환한다고 했었지?
타입스크립트에서 자바스크립트 코드로 컴파일할 때 옵션을 설정하는 내용에 대해 알아보자
얼마나 엄격하게 타입오류 검사를 할건지, 자바스크립트 코드의 버전은 어떻게 할지등의 옵션이 존재해
타입스크립트 옵션은 node.js 패키지 단위로 설정할수 있어.

npx tsc --init # 타입스크립트 설정파일 초기화 (tsconfig.json)


"include": ["src"],
   :  컴파일할 TypeScript 파일들의 범위와 위치를 알려주는 옵션
      npx tsc src/index.ts 이런식으로 일일이 명령어로 컴파일 진행하던걸,
      src 폴더 밑에 있는 파일을 한꺼번에 컴파일 진행할 수 있음
      너가 컴파일 범위는 여기야 라고 알려주는것
      npx tsc 명령어로 컴파일 가능해짐
	  
"ts-node": { "esm": true }
	: tsx (ts-node) 동작을 esm 모듈방식으로 실행  
	
  타입검사나, TS -> JS 변환과정등 상세한 옵션 설정은 compilerOptions에서 설정해
  
  "compilerOptions": {
    "target": "esnext",
     :  컴파일된 자바스크립트의 버전을 설정하는 옵션
        esnext는 ES 최신버전을 뜻함
        구버전 자바스크립트를 사용하는 구형 브라우저에서 설정이 필요함

    "module": "esnext",
     :  자바스크립트 코드의 모듈시스템을 설정

    "outDir": "dist",
     :  자바스크립트로 컴파일된 파일들을 저장하는 공간 설정

    "strict": true
     :  타입검사 엄격하게 설정
    
	
	"moduleDetection": "force"
	 : 타입스크립트가 각각의 파일을 어떤 모듈로 감지할 것인지 정하는 옵션
    
	"skipDefaultLibCheck": true
	 : @types 버전 20이상 인 경우 추가해줘야해
	   불필요한 타입 정의 파일의 타입 검사생략 옵션

     ....
  }
  
타입 스크립트는 파일을 전역 모듈로 보기 때문에 동일한 변수를 다른 파일에 쓸수가 없는데
두가지 설정으로 개별 모듈로 보게 할수있어
1. 마지막에 export {} 작성 -> 모듈 시스템에 사용하는 문법 키워드를 한번 이상 작성해주기
2. "moduleDetection" 옵션 설정해주기

